<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>BFC、IFC | ICE.GS</title><meta name="description" content="A geeker blog."><meta name="keywords" content="hexo,theme,icer,ggice"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="参考w3c visual-model-intro 章节, 9.4 Normal flowBFC 块级格式上下文形成BFC的情况浮动的元素绝对定位的元素overflow不为visible的元素 （除非该值已经被传播到视口, 比如body元素设置overflow的情况）不是区块盒子的块容器（比如 inline-blocks,table-cells,table-captions）BFC的布局规则在BFC"><meta name="keywords" content="web development"><meta property="og:type" content="article"><meta property="og:title" content="BFC、IFC"><meta property="og:url" content="https:&#x2F;&#x2F;ice.gs&#x2F;2017&#x2F;06&#x2F;12&#x2F;bfc-ifc-2&#x2F;index.html"><meta property="og:site_name" content="ICE.GS"><meta property="og:description" content="参考w3c visual-model-intro 章节, 9.4 Normal flowBFC 块级格式上下文形成BFC的情况浮动的元素绝对定位的元素overflow不为visible的元素 （除非该值已经被传播到视口, 比如body元素设置overflow的情况）不是区块盒子的块容器（比如 inline-blocks,table-cells,table-captions）BFC的布局规则在BFC"><meta property="og:locale" content="default"><meta property="og:updated_time" content="2017-06-15T07:24:45.000Z"><meta name="twitter:card" content="summary"><link rel="stylesheet" href="//cdn.staticfile.org/nprogress/0.2.0/nprogress.css"><link rel="stylesheet" href="//cdn.staticfile.org/highlight.js/9.15.10/styles/github-gist.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_405585_yuudmyqpo3q.css"><script src="//cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="/style.css"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?403460ed7637fb6c4a9e09a74e662ca0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><meta name="generator" content="Hexo 4.0.0"></head></html><body><script>NProgress.start()</script><div id="site-wrapper"><header class="header"><div class="header-wrapper"><a href="/"><img src="/image/logo.jpg" class="logo"></a><div class="social-wrapper"><a href="https://twitter.com/iggice" class="social twitter" target="_blank" rel="external"><span class="iconfont icon-twitter"></span> </a><a href="https://github.com/ggice" class="social github" target="_blank" rel="external"><span class="iconfont icon-github"></span> </a><a href="http://ggice.lofter.com/" class="social lofter" target="_blank" rel="external"><span class="iconfont icon-lofter"></span> </a><a href="https://dribbble.com/ggice" class="social dribbble" target="_blank" rel="external"><span class="iconfont icon-dribbble"></span> </a><a href="mailto:i@ice.gs" class="social email" target="_blank" rel="external"><span class="iconfont icon-email"></span> </a><a href="/atom.xml" class="social rss" target="_blank" rel="external"><span class="iconfont icon-rss"></span> </a><a href="#" class="social search-do" target="_blank" rel="external"><span class="iconfont icon-search"></span></a></div><div class="search-wrap"><div class="search-content animated fade-in"><p class="search-input"><span class="iconfont icon-search"></span> <input tabindex="1"></p><ul class="search-result"><div class="tags"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac-os-X/" rel="tag">Mac os X</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/os/" rel="tag">os</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/others/" rel="tag">others</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/raspberry-pi/" rel="tag">raspberry pi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/soft/" rel="tag">soft</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-development/" rel="tag">web development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-development%E6%8E%A8%E8%8D%90%E6%96%B9%E6%B3%95/" rel="tag">web development推荐方法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/work/" rel="tag">work</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD%E5%99%A8/" rel="tag">模块加载器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%BE%91%E5%99%A8/" rel="tag">编辑器</a></li></ul></div></ul></div></div><nav class="header-nav"><a href="/" class="archives">home </a><a href="/tags/web-development/" class="archives">web development </a><a href="/tags/soft/" class="archives">soft </a><a href="/tags/os/" class="archives">os </a><a href="/archives" class="archives">archives </a><a href="/README/" class="archives">README</a></nav></div></header><script>NProgress.set(.4)</script><main id="main" role="main"><article id="post-bfc-ifc-2" class="post article white-box article-type-post animated fade-in-top" itemscope itemprop="blogPost"><section class="post-header article-header"><h2 class="title"><a href="/2017/06/12/bfc-ifc-2/">BFC、IFC</a></h2><div class="subtitle"><time>Jun 12, 2017 </time><span class="tags"><span class="iconfont icon-tag"></span> <a class="tag-link" href="/tags/web-development/" rel="tag">web development</a></span></div></section><section class="content"><div class="article-entry" itemprop="articleBody"><p>参考w3c <a href="https://www.w3.org/TR/CSS2/visuren.html#normal-flow" target="_blank" rel="noopener">visual-model-intro</a> 章节, 9.4 Normal flow</p><h2 id="BFC-块级格式上下文"><a href="#BFC-块级格式上下文" class="headerlink" title="BFC 块级格式上下文"></a>BFC 块级格式上下文</h2><h3 id="形成BFC的情况"><a href="#形成BFC的情况" class="headerlink" title="形成BFC的情况"></a>形成BFC的情况</h3><ul><li>浮动的元素</li><li>绝对定位的元素</li><li><code>overflow</code>不为<code>visible</code>的元素 （除非该值已经被传播到视口, 比如<code>body</code>元素设置<code>overflow</code>的情况）</li><li>不是区块盒子的块容器（比如 <code>inline-blocks</code>,<code>table-cells</code>,<code>table-captions</code>）</li></ul><h3 id="BFC的布局规则"><a href="#BFC的布局规则" class="headerlink" title="BFC的布局规则"></a>BFC的布局规则</h3><ul><li>在BFC中，元素从包含块的顶部开始，一个接一个的垂直排布</li><li>在BFC中，两个兄弟盒之间的垂直距离由<code>margin</code>属性决定</li><li>在BFC中，相邻的块级元素垂直边距会发生合并</li><li>在BFC中，每个盒子的左边触碰包含块的左边缘（若从右到左格式，则右侧接触）。即使是浮动元素情况也是如此, 除非盒子建立了一个新的BFC环境</li></ul><p>最后一条，有些难理解，看下下面的例子：</p><p>默认情况下p标签是触碰包含块的左边缘排列的，当我们设置p为新的BFC时，p标签就不会贴着左边缘排列了</p><p><a href="https://codepen.io/GGICE/pen/XgXRbR" target="_blank" rel="noopener">🌰</a></p><h3 id="BFC可以解决的问题"><a href="#BFC可以解决的问题" class="headerlink" title="BFC可以解决的问题"></a>BFC可以解决的问题</h3><ul><li>布局问题</li><li>清除浮动</li><li>防止垂直边距合并（两个相邻BFC垂直边距不会发生合并）</li></ul><h2 id="IFC-行内格式上下文"><a href="#IFC-行内格式上下文" class="headerlink" title="IFC 行内格式上下文"></a>IFC 行内格式上下文</h2><h3 id="形成IFC的情况"><a href="#形成IFC的情况" class="headerlink" title="形成IFC的情况"></a>形成IFC的情况</h3><p>当一个块级内容盒子的内容只有行内元素时就形成了一个行内格式上下文环境</p><h3 id="IFC的布局规则"><a href="#IFC的布局规则" class="headerlink" title="IFC的布局规则"></a>IFC的布局规则</h3><ul><li>在IFC中，元素从包含块的顶部开始，一个接着一个的水平排列(包含这些行内元素和和形成的框组成的长方形区域称为<code>行盒</code>)</li><li>这些内部元素的横向<code>margins</code>，<code>borders</code> 都会生效</li><li>这些内部元素可以以不同的方式对齐 （基于底部、顶部或者基线对齐）</li><li>行盒的宽度由包含块决定，行块的高度由行<a href="https://www.w3.org/TR/CSS21/visudet.html#line-height" target="_blank" rel="noopener">高度计算</a>部分中给出的规则确定</li><li>行盒的高度总是足够高足以包含所有的盒子，但它可能高于包含的最高的盒子（不同的定位方式可能导致），当包含盒子的高度小于行盒时盒子的垂直对齐方式由<code>vertical-align</code>确定</li><li>当多个行内级别的盒子不能水平放置在一个行盒张中时，他们会分布在一个或多个垂直堆叠的行盒中</li><li>通常，行盒的左边缘接触包含块的左边缘，右边缘接触其包含块的右边缘。但是，浮动元素可能在浮动盒子边缘与行盒边缘之间，因此，虽然同一IFC中的行内盒子通常具有相同的宽度，但是他们的宽度会因浮动元素而减少，在同一IFC种的行盒的高度可能不同（例如一行是图片，一行是文本）</li><li>当行内盒子的总宽度小于包含他们的行盒的宽度时，他们在行盒中的水平分布由<code>text-align</code>确定，如果该属性的值为<code>justify</code> , 则用户代理可以在行内盒子（除了inline-table 、inline-block的盒子 ）中展开空格和单词。</li><li>当一个行内盒子的宽度大于行盒时，它会被分成几个盒子，这些盒子分布在多个行盒中，如果行内盒子不能被拆分（单个字符、特殊单词不允许中断、<code>nowrap</code>、<code>pre</code>）行内盒子则会溢出行盒；<code>margins</code>, <code>borders</code>, and <code>padding</code>出现在分割处没有视觉效果</li><li>由于双向文本处理多个行内元素也可能被分割到同一个行盒</li><li>在IFC中存在行内级别的内容就会创建行盒，如果行盒里面没有文字、不包含空格、没有margins, padding, or borders 非0的元素，没有其他 in-flow 内容（比如images，inline blocks 和 inline tables），并且不以换行符结束，将视为高度为0的行盒，也被认为是没有意义的</li></ul><h3 id="BFC可以解决的问题-1"><a href="#BFC可以解决的问题-1" class="headerlink" title="BFC可以解决的问题"></a>BFC可以解决的问题</h3><ul><li>布局问题</li></ul><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>参考w3c visual-model-intro 章节, 9.4 Normal flow</p></div></section><section id="gitalk-container"></section></article><script>NProgress.set(.6)</script></main><footer class="footer"><div class="footer-wrap"><div class="footer-link"><h3>LINKS</h3><p><a href="http://1x0.xyz/" target="_blank">Tian1x0</a> <a href="http://www.royalmice.com/hankzhou/" target="_blank">Hankzhou</a> <a href="http://sjydh.me/" target="_blank">设计有点货</a> <a href="https://developers.google.com/web/fundamentals/" target="_blank">Web fundamentals</a></p></div><div class="footer-tags"><h3>TAGS</h3><div class="tags"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac-os-X/" rel="tag">Mac os X</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/os/" rel="tag">os</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/others/" rel="tag">others</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/raspberry-pi/" rel="tag">raspberry pi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/soft/" rel="tag">soft</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-development/" rel="tag">web development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-development%E6%8E%A8%E8%8D%90%E6%96%B9%E6%B3%95/" rel="tag">web development推荐方法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/work/" rel="tag">work</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD%E5%99%A8/" rel="tag">模块加载器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%BE%91%E5%99%A8/" rel="tag">编辑器</a></li></ul></div></div><div class="footer-info"><div>Theme <span class="codename"><a href="https://github.com/GGICE/hexo-icer" target="_blank">icer</a></span> designed & coded by <a href="https://ice.gs/" target="_blank">GGICE</a></div><div>Copyright &copy; 2020, <a href="/">ICE.GS</a> . All rights reserved .</div></div></div></footer><script>NProgress.set(.8)</script></div><script src="//cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script><script>hljs.initHighlightingOnLoad()</script><script src="/js/main.js"></script><script src="/js/md5.js"></script><link rel="stylesheet" href="//cdn.staticfile.org/gitalk/1.5.0/gitalk.min.css"><script src="//cdn.staticfile.org/gitalk/1.5.0/gitalk.min.js"></script><script>document.querySelector("#gitalk-container")&&new Gitalk({clientID:"83a3413b0591f7c338af",clientSecret:"177f437bdc6573b374fa1ef51efb03e4c374d921",repo:"ICE.GS",owner:"GGICE",admin:["GGICE"],id:MD5(location.pathname),distractionFreeMode:!1}).render("gitalk-container")</script><script>NProgress.done()</script></body>