<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>通过 Webpack打包，了解不同的“模块定义” | ICE.GS</title><meta name="description" content="A geeker blog."><meta name="keywords" content="hexo,theme,icer,ggice"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="webpack 打包输出方式在webpack config中有两个属性output.library 设置打包输入的library名output.libraryTarge 设置打包方式var var MyLibrary = _entry_return_; (默认)this this[“MyLibrary”] = _entry_return_;window window[“MyLibrary”] ="><meta name="keywords" content="web development"><meta property="og:type" content="article"><meta property="og:title" content="通过 Webpack打包，了解不同的“模块定义”"><meta property="og:url" content="https:&#x2F;&#x2F;ice.gs&#x2F;2017&#x2F;05&#x2F;27&#x2F;tong-guo-webpackda-bao-liao-jie-bu-tong-de-mo-kuai-ding-yi&#x2F;index.html"><meta property="og:site_name" content="ICE.GS"><meta property="og:description" content="webpack 打包输出方式在webpack config中有两个属性output.library 设置打包输入的library名output.libraryTarge 设置打包方式var var MyLibrary = _entry_return_; (默认)this this[“MyLibrary”] = _entry_return_;window window[“MyLibrary”] ="><meta property="og:locale" content="default"><meta property="og:updated_time" content="2017-05-26T18:48:30.000Z"><meta name="twitter:card" content="summary"><link rel="stylesheet" href="//cdn.staticfile.org/nprogress/0.2.0/nprogress.css"><link rel="stylesheet" href="//cdn.staticfile.org/highlight.js/9.15.10/styles/github-gist.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_405585_yuudmyqpo3q.css"><script src="//cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="/style.css"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?403460ed7637fb6c4a9e09a74e662ca0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><meta name="generator" content="Hexo 4.0.0"></head></html><body><script>NProgress.start()</script><div id="site-wrapper"><header class="header"><div class="header-wrapper"><a href="/"><img src="/image/logo.jpg" class="logo"></a><div class="social-wrapper"><a href="https://twitter.com/iggice" class="social twitter" target="_blank" rel="external"><span class="iconfont icon-twitter"></span> </a><a href="https://github.com/ggice" class="social github" target="_blank" rel="external"><span class="iconfont icon-github"></span> </a><a href="http://ggice.lofter.com/" class="social lofter" target="_blank" rel="external"><span class="iconfont icon-lofter"></span> </a><a href="https://dribbble.com/ggice" class="social dribbble" target="_blank" rel="external"><span class="iconfont icon-dribbble"></span> </a><a href="mailto:i@ice.gs" class="social email" target="_blank" rel="external"><span class="iconfont icon-email"></span> </a><a href="/atom.xml" class="social rss" target="_blank" rel="external"><span class="iconfont icon-rss"></span> </a><a href="#" class="social search-do" target="_blank" rel="external"><span class="iconfont icon-search"></span></a></div><div class="search-wrap"><div class="search-content animated fade-in"><p class="search-input"><span class="iconfont icon-search"></span> <input tabindex="1"></p><ul class="search-result"><div class="tags"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac-os-X/" rel="tag">Mac os X</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/os/" rel="tag">os</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/others/" rel="tag">others</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/raspberry-pi/" rel="tag">raspberry pi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/soft/" rel="tag">soft</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-development/" rel="tag">web development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-development%E6%8E%A8%E8%8D%90%E6%96%B9%E6%B3%95/" rel="tag">web development推荐方法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/work/" rel="tag">work</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD%E5%99%A8/" rel="tag">模块加载器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%BE%91%E5%99%A8/" rel="tag">编辑器</a></li></ul></div></ul></div></div><nav class="header-nav"><a href="/" class="archives">home </a><a href="/tags/web-development/" class="archives">web development </a><a href="/tags/soft/" class="archives">soft </a><a href="/tags/os/" class="archives">os </a><a href="/archives" class="archives">archives </a><a href="/README/" class="archives">README</a></nav></div></header><script>NProgress.set(.4)</script><main id="main" role="main"><article id="post-tong-guo-webpackda-bao-liao-jie-bu-tong-de-mo-kuai-ding-yi" class="post article white-box article-type-post animated fade-in-top" itemscope itemprop="blogPost"><section class="post-header article-header"><h2 class="title"><a href="/2017/05/27/tong-guo-webpackda-bao-liao-jie-bu-tong-de-mo-kuai-ding-yi/">通过 Webpack打包，了解不同的“模块定义”</a></h2><div class="subtitle"><time>May 27, 2017 </time><span class="tags"><span class="iconfont icon-tag"></span> <a class="tag-link" href="/tags/web-development/" rel="tag">web development</a></span></div></section><section class="content"><div class="article-entry" itemprop="articleBody"><h2 id="webpack-打包输出方式"><a href="#webpack-打包输出方式" class="headerlink" title="webpack 打包输出方式"></a>webpack 打包输出方式</h2><p>在webpack config中有两个属性</p><h3 id="output-library-设置打包输入的library名"><a href="#output-library-设置打包输入的library名" class="headerlink" title="output.library  设置打包输入的library名"></a><code>output.library</code> 设置打包输入的library名</h3><h3 id="output-libraryTarge-设置打包方式"><a href="#output-libraryTarge-设置打包方式" class="headerlink" title="output.libraryTarge 设置打包方式"></a><code>output.libraryTarge</code> 设置打包方式</h3><ul><li><p><code>var</code> var MyLibrary = _entry_return_; (默认)</p></li><li><p><code>this</code> this[“MyLibrary”] = _entry_return_;</p></li><li><p><code>window</code> window[“MyLibrary”] = _entry_return_;</p></li><li><p><code>global</code> global[“MyLibrary”] = _entry_return_;</p></li><li><p><code>commonjs</code> exports[“Library”] = xxx</p></li><li><p><code>commonjs2</code> module.exports = xxx</p></li><li><p><code>amd</code> Export to AMD</p></li><li><p><code>umd</code> Export to AMD, CommonJS2 or as property in root</p><p>当配置为<code>this</code> <code>commonjs</code> 时而没有设置 <code>output.library</code> 打包时会复制导出对象的每个属性，即将每个属性都绑定到 this 或者 exports。</p><p><code>var</code> 和 <code>this</code> 方式适合在浏览器中直接运行，通过src方式引入的话，其实两者都是将Library帮到到了window。</p><p><code>commonjs</code> 适用于用标准commonjs引入</p><p><code>commonjs2</code> 适用于Node.js</p><p><code>amd</code> 适用于requireJs</p><p><code>umd</code> 同时支持了 AMD, CommonJS2, CommonJS 和 绑定到全局变量的方式（浏览器运行）</p><p>会有类似下面代码做各种模块加载支持</p></li></ul><pre><code>     !function(e, t) {
       &quot;object&quot; == typeof exports &amp;&amp; &quot;object&quot; == typeof module ? module.exports = t() :
       &quot;function&quot; == typeof define &amp;&amp; define.amd ? define([], t) : 
       &quot;object&quot; == typeof exports ? exports.Iceter = t() : e.Iceter = t()
    }(this, function()) {}
</code></pre><h2 id="AMD、CommonJS、UMD"><a href="#AMD、CommonJS、UMD" class="headerlink" title="AMD、CommonJS、UMD"></a>AMD、CommonJS、UMD</h2><h3 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h3><p>Asynchronous module definition (异步模块定义)，多用于浏览器端，典型的实现RequireJS。AMD可以异步加载模块，即便相互依赖的模块也可以分别加载，在所有依赖加载完成后运行，这对于浏览器来说不会发生阻塞，对页面加载有重要意义。</p><h3 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h3><p>CommonJS是同步加载模块，NodeJS的module算是CommonJS的部分的实现。因为是同步加载所以不适用于浏览器端。</p><p>Webpack里面提到的<code>commonjs</code> 完全符合CommonJS定义语法的输出，而像Node.js 用<code>module.export</code> 代替 <code>exports</code>并不完全符合CommonJS所以用<code>commonjs2</code>表示，这里只是Webpack对两种形式做的区分。</p><blockquote><p>CommonJS 规范是为了解决 JavaScript 的作用域问题而定义的模块形式，可以使每个模块它自身的命名空间中执行。该规范的主要内容是，模块必须通过 <code>module.exports</code> 导出对外的变量或接口，通过 <code>require()</code> 来导入其他模块的输出到当前模块作用域中。</p></blockquote><h3 id="UMD"><a href="#UMD" class="headerlink" title="UMD"></a>UMD</h3><p>Universal Module Definition（通用模块定义）, 支持了 AMD, CommonJS2, CommonJS 和 绑定到全局变量的方式。</p><p>​</p></div></section><section id="gitalk-container"></section></article><script>NProgress.set(.6)</script></main><footer class="footer"><div class="footer-wrap"><div class="footer-link"><h3>LINKS</h3><p><a href="http://1x0.xyz/" target="_blank">Tian1x0</a> <a href="http://www.royalmice.com/hankzhou/" target="_blank">Hankzhou</a> <a href="http://sjydh.me/" target="_blank">设计有点货</a> <a href="https://developers.google.com/web/fundamentals/" target="_blank">Web fundamentals</a></p></div><div class="footer-tags"><h3>TAGS</h3><div class="tags"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac-os-X/" rel="tag">Mac os X</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/os/" rel="tag">os</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/others/" rel="tag">others</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/raspberry-pi/" rel="tag">raspberry pi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/soft/" rel="tag">soft</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-development/" rel="tag">web development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-development%E6%8E%A8%E8%8D%90%E6%96%B9%E6%B3%95/" rel="tag">web development推荐方法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/work/" rel="tag">work</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD%E5%99%A8/" rel="tag">模块加载器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E8%BE%91%E5%99%A8/" rel="tag">编辑器</a></li></ul></div></div><div class="footer-info"><div>Theme <span class="codename"><a href="https://github.com/GGICE/hexo-icer" target="_blank">icer</a></span> designed & coded by <a href="https://ice.gs/" target="_blank">GGICE</a></div><div>Copyright &copy; 2019, <a href="/">ICE.GS</a> . All rights reserved .</div></div></div></footer><script>NProgress.set(.8)</script></div><script src="//cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script><script>hljs.initHighlightingOnLoad()</script><script src="/js/main.js"></script><script src="/js/md5.js"></script><link rel="stylesheet" href="//cdn.staticfile.org/gitalk/1.5.0/gitalk.min.css"><script src="//cdn.staticfile.org/gitalk/1.5.0/gitalk.min.js"></script><script>document.querySelector("#gitalk-container")&&new Gitalk({clientID:"83a3413b0591f7c338af",clientSecret:"177f437bdc6573b374fa1ef51efb03e4c374d921",repo:"ICE.GS",owner:"GGICE",admin:["GGICE"],id:MD5(location.pathname),distractionFreeMode:!1}).render("gitalk-container")</script><script>NProgress.done()</script></body>