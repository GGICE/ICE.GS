!function(){var e,n=document.querySelector(".search-do"),t=document.querySelector(".search-wrap"),r=document.querySelector(".search-content"),o=t.querySelector("input"),i=t.querySelector(".search-result"),c=i.innerHTML;function a(){t.style.display="none",i.innerHTML=c,e=null}function u(e,n){return e=(e||"").toLocaleLowerCase(),n=(n||"").toLocaleLowerCase(),e.indexOf(n)>-1}function l(n){e?n&&n(e):fetch("/search.json").then(function(t){t.json().then(function(t){e=t,n&&n(e)})}).catch(function(){n&&(i.innerHTML="An error has occurredÔºÅ")})}function d(e){e.isComposing||(e.target.value?l(function(n){!function(e){if(!e||e.length<1)return i.innerHTML='<div class="search-no">NOT FIND!</div>';var n="",t=document.createElement("div");e.forEach(function(e){t.innerHTML=(e.content||"").slice(0,100),n+='<li data-url="'+e.url+'"><h3>'+e.title+"</h3><p>"+t.innerText+"</p></li>"}),i.innerHTML=n}(function(e,n){if(e&&!(e.length<1)&&n)return e.filter(function(e){return!!u(e.title,n)||!!u(e.content,n)||void 0})}(n,e.target.value))}):i.innerHTML=c)}n.addEventListener("click",function(e){e.preventDefault(),t.style.display="flex",o.focus(),l()}),o.addEventListener("input",d),t.addEventListener("click",a),r.addEventListener("click",function(e){e.stopPropagation();var n,t=e.target;"LI"!==t.tagName&&(t=t.parentNode),"LI"===t.tagName&&t.dataset.url&&(n=window.location.origin+t.dataset.url,window.location.href=n)}),o.addEventListener("compositionend",d),document.addEventListener("keydown",function(e){27===e.keyCode&&a()})}();